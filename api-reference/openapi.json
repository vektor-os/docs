{
  "openapi": "3.0.1",
  "info": {
    "title": "Vektor OS API",
    "description": "REST API for Vektor OS - Agent Runtime and Orchestration Framework.\n\n## Features\n- **Agents**: Create, manage, and execute agent runs\n- **Sessions**: Track conversation history and context\n- **Memory**: Store and retrieve persistent memories\n- **Teams**: Orchestrate multiple agents (coming soon)\n- **Workflows**: Define multi-step automated processes (coming soon)\n\n## Authentication\nWhen `VEKTOR_SECURITY_KEY` is configured, all API endpoints require Bearer token authentication.",
    "contact": {
      "name": "Vektor OS",
      "url": "https://vektoros.io"
    },
    "license": {
      "name": "Apache 2.0",
      "url": "https://www.apache.org/licenses/LICENSE-2.0"
    },
    "version": "0.1.0"
  },
  "servers": [
    {
      "url": "/",
      "description": "Current Server"
    }
  ],
  "security": [
    {
      "bearerAuth": []
    }
  ],
  "tags": [
    {
      "name": "Agents",
      "description": "Agent management and execution endpoints"
    },
    {
      "name": "Model Metrics",
      "description": "Model API call metrics endpoints"
    },
    {
      "name": "Memory",
      "description": "User memory management endpoints"
    },
    {
      "name": "Core",
      "description": "Core system endpoints"
    },
    {
      "name": "Instance",
      "description": "Instance information and health endpoints"
    },
    {
      "name": "Workflows",
      "description": "Workflow execution endpoints"
    },
    {
      "name": "Teams",
      "description": "Team orchestration endpoints"
    },
    {
      "name": "Sessions",
      "description": "Session management endpoints"
    }
  ],
  "paths": {
    "/api/v1/knowledge/{knowledgeId}": {
      "get": {
        "tags": [
          "knowledge-controller"
        ],
        "operationId": "getKnowledge",
        "parameters": [
          {
            "name": "knowledgeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeDto"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "knowledge-controller"
        ],
        "operationId": "updateKnowledge",
        "parameters": [
          {
            "name": "knowledgeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateKnowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "knowledge-controller"
        ],
        "operationId": "deleteKnowledge",
        "parameters": [
          {
            "name": "knowledgeId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/workflows/{workflowId}/runs": {
      "post": {
        "tags": [
          "Workflows"
        ],
        "summary": "Create workflow run",
        "description": "Execute a workflow with a message",
        "operationId": "createWorkflowRun",
        "parameters": [
          {
            "name": "workflowId",
            "in": "path",
            "description": "Workflow ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkflowRunRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "Workflow not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "200": {
            "description": "Workflow run completed",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workflows/{workflowId}/runs/{runId}/cancel": {
      "post": {
        "tags": [
          "Workflows"
        ],
        "summary": "Cancel workflow run",
        "description": "Cancel a running workflow execution",
        "operationId": "cancelWorkflowRun",
        "parameters": [
          {
            "name": "workflowId",
            "in": "path",
            "description": "Workflow ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Run not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "200": {
            "description": "Run cancelled",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workflows/{workflowId}/runs/stream": {
      "post": {
        "tags": [
          "Workflows"
        ],
        "summary": "Create streaming workflow run",
        "description": "Execute a workflow with streaming events",
        "operationId": "createStreamingWorkflowRun",
        "parameters": [
          {
            "name": "workflowId",
            "in": "path",
            "description": "Workflow ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/WorkflowRunRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Streaming workflow run started",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          },
          "404": {
            "description": "Workflow not found",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teams/{teamId}/runs": {
      "post": {
        "tags": [
          "Teams"
        ],
        "summary": "Create team run",
        "description": "Execute a team with a message",
        "operationId": "createTeamRun",
        "parameters": [
          {
            "name": "teamId",
            "in": "path",
            "description": "Team ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeamRunRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "Team not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "200": {
            "description": "Team run completed",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teams/{teamId}/runs/{runId}/cancel": {
      "post": {
        "tags": [
          "Teams"
        ],
        "summary": "Cancel team run",
        "description": "Cancel a running team execution",
        "operationId": "cancelTeamRun",
        "parameters": [
          {
            "name": "teamId",
            "in": "path",
            "description": "Team ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Run not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "200": {
            "description": "Run cancelled",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teams/{teamId}/runs/stream": {
      "post": {
        "tags": [
          "Teams"
        ],
        "summary": "Create streaming team run",
        "description": "Execute a team with streaming events",
        "operationId": "createStreamingTeamRun",
        "parameters": [
          {
            "name": "teamId",
            "in": "path",
            "description": "Team ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TeamRunRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "Team not found",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          },
          "200": {
            "description": "Streaming team run started",
            "content": {
              "text/event-stream": {
                "schema": {
                  "$ref": "#/components/schemas/SseEmitter"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/metrics/models": {
      "get": {
        "tags": [
          "Model Metrics"
        ],
        "summary": "List model metrics",
        "description": "Retrieve paginated list of model metrics with filtering",
        "operationId": "listMetrics",
        "parameters": [
          {
            "name": "sessionId",
            "in": "query",
            "description": "Filter by session ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "query",
            "description": "Filter by run ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "description": "Filter by agent ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "description": "Filter by user ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "in": "query",
            "description": "Filter by model ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider",
            "in": "query",
            "description": "Filter by provider",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "success",
            "in": "query",
            "description": "Filter by success status",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "startTimeAfter",
            "in": "query",
            "description": "Filter by start time after (ISO-8601)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "startTimeBefore",
            "in": "query",
            "description": "Filter by start time before (ISO-8601)",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "Page number (1-indexed)",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Page size",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "description": "Sort by field",
            "required": false,
            "schema": {
              "type": "string",
              "default": "createdAt"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "description": "Sort order (asc/desc)",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Metrics retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ModelMetricsPagedResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Model Metrics"
        ],
        "summary": "Create model metrics",
        "description": "Record new model API call metrics",
        "operationId": "createMetrics",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateModelMetricsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Metrics created successfully",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ModelMetricsDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/memory": {
      "get": {
        "tags": [
          "Memory"
        ],
        "operationId": "listMemories",
        "parameters": [
          {
            "name": "userId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "query",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageDtoMemoryDto"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Memory"
        ],
        "operationId": "createMemory",
        "parameters": [
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMemoryRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MemoryDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge": {
      "get": {
        "tags": [
          "knowledge-controller"
        ],
        "operationId": "listKnowledge",
        "parameters": [
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "tags",
            "in": "query",
            "required": false,
            "schema": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          },
          {
            "name": "verified",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean"
            }
          },
          {
            "name": "contentType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 20
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgePagedResponse"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "knowledge-controller"
        ],
        "operationId": "createKnowledge",
        "parameters": [
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateKnowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/search": {
      "post": {
        "tags": [
          "knowledge-controller"
        ],
        "operationId": "searchKnowledge",
        "parameters": [
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchKnowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeSearchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/runs": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "List agent runs",
        "description": "Retrieve runs for a specific agent",
        "operationId": "listRuns",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "description": "Agent ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Runs retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RunRecordDto"
                  }
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Agents"
        ],
        "summary": "Create agent run",
        "description": "Execute an agent with a message. Set stream=true for SSE streaming response.",
        "operationId": "createRun",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "description": "Agent ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RunRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "404": {
            "description": "Agent not found",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          },
          "200": {
            "description": "Run completed successfully",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/runs/{runId}/cancel": {
      "post": {
        "tags": [
          "Agents"
        ],
        "summary": "Cancel agent run",
        "description": "Cancel a running agent execution",
        "operationId": "cancelRun",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "description": "Agent ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Cancellation processed",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/CancelResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/knowledge": {
      "post": {
        "tags": [
          "agent-knowledge-controller"
        ],
        "operationId": "addKnowledge",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddAgentKnowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/knowledge/url": {
      "post": {
        "tags": [
          "agent-knowledge-controller"
        ],
        "operationId": "addUrl",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddUrlRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/knowledge/upload": {
      "post": {
        "tags": [
          "agent-knowledge-controller"
        ],
        "operationId": "uploadFile",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "contentType",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "required": [
                  "file"
                ],
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/knowledge/search": {
      "post": {
        "tags": [
          "agent-knowledge-controller"
        ],
        "operationId": "searchKnowledge_1",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SearchKnowledgeRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AgentKnowledgeSearchResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/knowledge/file": {
      "post": {
        "tags": [
          "agent-knowledge-controller"
        ],
        "operationId": "addFile",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddFileRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/knowledge/batch": {
      "post": {
        "tags": [
          "agent-knowledge-controller"
        ],
        "operationId": "addBatch",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AddBatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions/{sessionId}": {
      "get": {
        "tags": [
          "Sessions"
        ],
        "summary": "Get session",
        "description": "Retrieve session details with messages",
        "operationId": "getSession",
        "parameters": [
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Session found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SessionDetailDto"
                }
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SessionDetailDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Sessions"
        ],
        "summary": "Delete session",
        "description": "Delete a session by ID",
        "operationId": "deleteSession",
        "parameters": [
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Deletion processed",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteSessionResponse"
                }
              }
            }
          }
        }
      },
      "patch": {
        "tags": [
          "Sessions"
        ],
        "summary": "Rename session",
        "description": "Update session name",
        "operationId": "renameSession",
        "parameters": [
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RenameSessionRequestDto"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Session renamed",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SessionDto"
                }
              }
            }
          },
          "404": {
            "description": "Session not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/SessionDto"
                }
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "tags": [
          "Instance"
        ],
        "summary": "Health check",
        "description": "Simple health check endpoint",
        "operationId": "healthCheck",
        "responses": {
          "200": {
            "description": "Instance is healthy",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workflows": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "List all workflows",
        "description": "Retrieve all registered workflows",
        "operationId": "listWorkflows",
        "responses": {
          "200": {
            "description": "Workflows retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/WorkflowDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workflows/{workflowId}": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "Get workflow details",
        "description": "Retrieve details of a specific workflow",
        "operationId": "getWorkflow",
        "parameters": [
          {
            "name": "workflowId",
            "in": "path",
            "description": "Workflow ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Workflow not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowDto"
                }
              }
            }
          },
          "200": {
            "description": "Workflow found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/WorkflowDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/workflows/{workflowId}/runs/active": {
      "get": {
        "tags": [
          "Workflows"
        ],
        "summary": "Get active runs",
        "description": "Get all active runs for a workflow",
        "operationId": "getActiveRuns",
        "parameters": [
          {
            "name": "workflowId",
            "in": "path",
            "description": "Workflow ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teams": {
      "get": {
        "tags": [
          "Teams"
        ],
        "summary": "List all teams",
        "description": "Retrieve all registered teams",
        "operationId": "listTeams",
        "responses": {
          "200": {
            "description": "Teams retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TeamDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teams/{teamId}": {
      "get": {
        "tags": [
          "Teams"
        ],
        "summary": "Get team details",
        "description": "Retrieve details of a specific team",
        "operationId": "getTeam",
        "parameters": [
          {
            "name": "teamId",
            "in": "path",
            "description": "Team ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "404": {
            "description": "Team not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TeamDto"
                }
              }
            }
          },
          "200": {
            "description": "Team found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/TeamDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/teams/{teamId}/runs/active": {
      "get": {
        "tags": [
          "Teams"
        ],
        "summary": "Get active runs",
        "description": "Get all active runs for a team",
        "operationId": "getActiveRuns_1",
        "parameters": [
          {
            "name": "teamId",
            "in": "path",
            "description": "Team ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "additionalProperties": {
                      "type": "object"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/sessions": {
      "get": {
        "tags": [
          "Sessions"
        ],
        "summary": "List sessions",
        "description": "Retrieve paginated list of sessions with filtering",
        "operationId": "listSessions",
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teamId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "workflowId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 50
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "format": "int32",
              "default": 1
            }
          },
          {
            "name": "sortBy",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "updated_at"
            }
          },
          {
            "name": "sortOrder",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "default": "desc"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Sessions retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/PageDtoSessionDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/metrics/models/{metricsId}": {
      "get": {
        "tags": [
          "Model Metrics"
        ],
        "summary": "Get model metrics by ID",
        "description": "Retrieve a specific model metrics record",
        "operationId": "getMetrics",
        "parameters": [
          {
            "name": "metricsId",
            "in": "path",
            "description": "Metrics record ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Metrics found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ModelMetricsDto"
                }
              }
            }
          },
          "404": {
            "description": "Metrics not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ModelMetricsDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Model Metrics"
        ],
        "summary": "Delete model metrics",
        "description": "Delete a model metrics record",
        "operationId": "deleteMetrics",
        "parameters": [
          {
            "name": "metricsId",
            "in": "path",
            "description": "Metrics record ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Metrics deleted"
          },
          "404": {
            "description": "Metrics not found"
          }
        }
      }
    },
    "/api/v1/metrics/models/stats": {
      "get": {
        "tags": [
          "Model Metrics"
        ],
        "summary": "Get model metrics statistics",
        "description": "Get aggregated statistics for model metrics",
        "operationId": "getStats",
        "parameters": [
          {
            "name": "sessionId",
            "in": "query",
            "description": "Filter by session ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "query",
            "description": "Filter by run ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "description": "Filter by agent ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "description": "Filter by user ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "modelId",
            "in": "query",
            "description": "Filter by model ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "provider",
            "in": "query",
            "description": "Filter by provider",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ModelMetricsStatsDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/metrics/models/stats/by-provider": {
      "get": {
        "tags": [
          "Model Metrics"
        ],
        "summary": "Get statistics by provider",
        "description": "Get aggregated statistics grouped by provider",
        "operationId": "getStatsByProvider",
        "parameters": [
          {
            "name": "sessionId",
            "in": "query",
            "description": "Filter by session ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "query",
            "description": "Filter by run ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "description": "Filter by agent ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "description": "Filter by user ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ModelMetricsStatsByGroupResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/metrics/models/stats/by-model": {
      "get": {
        "tags": [
          "Model Metrics"
        ],
        "summary": "Get statistics by model",
        "description": "Get aggregated statistics grouped by model",
        "operationId": "getStatsByModel",
        "parameters": [
          {
            "name": "sessionId",
            "in": "query",
            "description": "Filter by session ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "query",
            "description": "Filter by run ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "description": "Filter by agent ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "description": "Filter by user ID",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Statistics retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ModelMetricsStatsByGroupResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/memory/{memoryId}": {
      "get": {
        "tags": [
          "Memory"
        ],
        "operationId": "getMemory",
        "parameters": [
          {
            "name": "memoryId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/MemoryDto"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Memory"
        ],
        "operationId": "deleteMemory",
        "parameters": [
          {
            "name": "memoryId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "userId",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "agentId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/DeleteMemoryResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/knowledge/by-name/{name}": {
      "get": {
        "tags": [
          "knowledge-controller"
        ],
        "operationId": "getKnowledgeByName",
        "parameters": [
          {
            "name": "name",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/KnowledgeDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/health": {
      "get": {
        "tags": [
          "Core"
        ],
        "summary": "Health check",
        "description": "Check if the service is healthy",
        "operationId": "health",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/HealthResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/config": {
      "get": {
        "tags": [
          "Core"
        ],
        "summary": "Get OS configuration",
        "description": "Retrieve current Vektor OS configuration",
        "operationId": "getConfig",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "List all agents",
        "description": "Retrieve all registered agents with their configurations",
        "operationId": "listAgents",
        "responses": {
          "200": {
            "description": "List of agents retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/AgentDto"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "Get agent details",
        "description": "Retrieve details of a specific agent by ID",
        "operationId": "getAgent",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "description": "Agent ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Agent found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AgentDto"
                }
              }
            }
          },
          "404": {
            "description": "Agent not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/AgentDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/runs/{runId}": {
      "get": {
        "tags": [
          "Agents"
        ],
        "summary": "Get run details",
        "description": "Retrieve details of a specific run",
        "operationId": "getRun",
        "parameters": [
          {
            "name": "agentId",
            "in": "path",
            "description": "Agent ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "runId",
            "in": "path",
            "description": "Run ID",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Run found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RunRecordDto"
                }
              }
            }
          },
          "404": {
            "description": "Run not found",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/RunRecordDto"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/agents/{agentId}/knowledge/supported-types": {
      "get": {
        "tags": [
          "agent-knowledge-controller"
        ],
        "operationId": "getSupportedTypes",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "object"
                  }
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "tags": [
          "Instance"
        ],
        "summary": "Get instance info",
        "description": "Returns information about this Vektor OS instance including version, status, and registered components",
        "operationId": "getInstanceInfo",
        "responses": {
          "200": {
            "description": "Instance information retrieved successfully",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/InstanceInfoDto"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "UpdateKnowledgeRequest": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "content_type": {
            "type": "string"
          },
          "source_url": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "KnowledgeDto": {
        "required": [
          "content",
          "content_type",
          "created_at",
          "has_embedding",
          "id",
          "metadata",
          "name",
          "tags",
          "updated_at",
          "verified",
          "version"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "content_type": {
            "type": "string"
          },
          "source_url": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "has_embedding": {
            "type": "boolean"
          },
          "version": {
            "type": "integer",
            "format": "int32"
          },
          "verified": {
            "type": "boolean"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "WorkflowRunRequestDto": {
        "required": [
          "additional_data",
          "message",
          "stream"
        ],
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "stream": {
            "type": "boolean"
          },
          "session_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "additional_data": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          }
        }
      },
      "SseEmitter": {
        "type": "object",
        "properties": {
          "timeout": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "ImageInputDto": {
        "required": [
          "detail"
        ],
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "file_path": {
            "type": "string"
          },
          "base64": {
            "type": "string"
          },
          "mime_type": {
            "type": "string"
          },
          "detail": {
            "type": "string"
          }
        }
      },
      "TeamRunRequestDto": {
        "required": [
          "message",
          "stream"
        ],
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "stream": {
            "type": "boolean"
          },
          "session_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "max_tool_calls": {
            "type": "integer",
            "format": "int32"
          },
          "images": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageInputDto"
            }
          }
        }
      },
      "CreateModelMetricsRequest": {
        "required": [
          "audio_input_tokens",
          "audio_output_tokens",
          "cache_read_tokens",
          "cache_write_tokens",
          "input_tokens",
          "metadata",
          "model_id",
          "output_tokens",
          "provider",
          "reasoning_tokens",
          "success"
        ],
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string"
          },
          "run_id": {
            "type": "string"
          },
          "agent_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "model_id": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          },
          "input_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "output_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "total_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "cost": {
            "type": "number",
            "format": "double"
          },
          "duration_ms": {
            "type": "integer",
            "format": "int64"
          },
          "time_to_first_token_ms": {
            "type": "integer",
            "format": "int64"
          },
          "audio_input_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "audio_output_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "cache_read_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "cache_write_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "reasoning_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "start_time": {
            "type": "string"
          },
          "end_time": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          },
          "error_message": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "ModelMetricsDto": {
        "required": [
          "audio_input_tokens",
          "audio_output_tokens",
          "cache_read_tokens",
          "cache_write_tokens",
          "created_at",
          "id",
          "input_tokens",
          "metadata",
          "model_id",
          "output_tokens",
          "provider",
          "reasoning_tokens",
          "success",
          "total_tokens"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          },
          "run_id": {
            "type": "string"
          },
          "agent_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "model_id": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          },
          "input_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "output_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "total_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "cost": {
            "type": "number",
            "format": "double"
          },
          "duration_ms": {
            "type": "integer",
            "format": "int64"
          },
          "time_to_first_token_ms": {
            "type": "integer",
            "format": "int64"
          },
          "audio_input_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "audio_output_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "cache_read_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "cache_write_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "reasoning_tokens": {
            "type": "integer",
            "format": "int32"
          },
          "start_time": {
            "type": "string"
          },
          "end_time": {
            "type": "string"
          },
          "success": {
            "type": "boolean"
          },
          "error_message": {
            "type": "string"
          },
          "created_at": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "CreateMemoryRequestDto": {
        "required": [
          "content",
          "importance",
          "topics",
          "user_id"
        ],
        "type": "object",
        "properties": {
          "user_id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "topics": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "importance": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "MemoryDto": {
        "required": [
          "content",
          "created_at",
          "id",
          "importance",
          "topics",
          "updated_at"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "topics": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "importance": {
            "type": "number",
            "format": "double"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "CreateKnowledgeRequest": {
        "required": [
          "content",
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "content_type": {
            "type": "string"
          },
          "source_url": {
            "type": "string"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "SearchKnowledgeRequest": {
        "required": [
          "query"
        ],
        "type": "object",
        "properties": {
          "query": {
            "type": "string"
          },
          "limit": {
            "type": "integer",
            "format": "int32"
          },
          "semantic": {
            "type": "boolean"
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "verified": {
            "type": "boolean"
          },
          "content_type": {
            "type": "string"
          }
        }
      },
      "KnowledgeSearchResponse": {
        "required": [
          "count",
          "query",
          "results",
          "semantic"
        ],
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KnowledgeDto"
            }
          },
          "query": {
            "type": "string"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "semantic": {
            "type": "boolean"
          }
        }
      },
      "RunRequestDto": {
        "required": [
          "max_tool_calls",
          "message",
          "stream"
        ],
        "type": "object",
        "properties": {
          "message": {
            "type": "string"
          },
          "stream": {
            "type": "boolean"
          },
          "session_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "max_tool_calls": {
            "type": "integer",
            "format": "int32"
          },
          "images": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ImageInputDto"
            }
          }
        }
      },
      "CancelResponse": {
        "required": [
          "cancelled",
          "run_id"
        ],
        "type": "object",
        "properties": {
          "run_id": {
            "type": "string"
          },
          "cancelled": {
            "type": "boolean"
          }
        }
      },
      "AddAgentKnowledgeRequest": {
        "required": [
          "content"
        ],
        "type": "object",
        "properties": {
          "content": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "AddUrlRequest": {
        "required": [
          "url"
        ],
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "AgentKnowledgeDocumentDto": {
        "required": [
          "content",
          "id",
          "metadata"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          }
        }
      },
      "AgentKnowledgeSearchResponse": {
        "required": [
          "count",
          "query",
          "results"
        ],
        "type": "object",
        "properties": {
          "results": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentKnowledgeDocumentDto"
            }
          },
          "query": {
            "type": "string"
          },
          "count": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "AddFileRequest": {
        "required": [
          "path"
        ],
        "type": "object",
        "properties": {
          "path": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "AddBatchRequest": {
        "type": "object",
        "properties": {
          "texts": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BatchTextItem"
            }
          },
          "files": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BatchFileItem"
            }
          },
          "urls": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/BatchUrlItem"
            }
          }
        }
      },
      "BatchFileItem": {
        "required": [
          "path"
        ],
        "type": "object",
        "properties": {
          "path": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "BatchTextItem": {
        "required": [
          "content"
        ],
        "type": "object",
        "properties": {
          "content": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "BatchUrlItem": {
        "required": [
          "url"
        ],
        "type": "object",
        "properties": {
          "url": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "RenameSessionRequestDto": {
        "required": [
          "session_name"
        ],
        "type": "object",
        "properties": {
          "session_name": {
            "type": "string"
          }
        }
      },
      "SessionDto": {
        "required": [
          "agent_id",
          "created_at",
          "message_count",
          "session_id",
          "session_state",
          "updated_at"
        ],
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string"
          },
          "session_name": {
            "type": "string"
          },
          "agent_id": {
            "type": "string"
          },
          "team_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "message_count": {
            "type": "integer",
            "format": "int32"
          },
          "session_state": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          },
          "summary": {
            "type": "string"
          },
          "topics": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WorkflowDto": {
        "required": [
          "id",
          "metadata",
          "name",
          "steps"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "steps": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WorkflowStepDto"
            }
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "WorkflowStepDto": {
        "required": [
          "config",
          "id",
          "name",
          "type"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "agent_id": {
            "type": "string"
          },
          "team_id": {
            "type": "string"
          },
          "config": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          }
        }
      },
      "ModelInfoDto": {
        "required": [
          "model",
          "name",
          "provider"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "model": {
            "type": "string"
          },
          "provider": {
            "type": "string"
          }
        }
      },
      "TeamDto": {
        "required": [
          "enable_user_memories",
          "id",
          "members",
          "metadata",
          "mode",
          "name",
          "reasoning_enabled"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "mode": {
            "type": "string"
          },
          "model": {
            "$ref": "#/components/schemas/ModelInfoDto"
          },
          "members": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TeamMemberDto"
            }
          },
          "reasoning_enabled": {
            "type": "boolean"
          },
          "enable_user_memories": {
            "type": "boolean"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "TeamMemberDto": {
        "required": [
          "agent_id",
          "is_leader",
          "name"
        ],
        "type": "object",
        "properties": {
          "agent_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "role": {
            "type": "string"
          },
          "is_leader": {
            "type": "boolean"
          },
          "model": {
            "$ref": "#/components/schemas/ModelInfoDto"
          }
        }
      },
      "PageDtoSessionDto": {
        "required": [
          "data",
          "pagination"
        ],
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SessionDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationDto"
          }
        }
      },
      "PaginationDto": {
        "required": [
          "page",
          "page_size",
          "total_items",
          "total_pages"
        ],
        "type": "object",
        "properties": {
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "page_size": {
            "type": "integer",
            "format": "int32"
          },
          "total_items": {
            "type": "integer",
            "format": "int64"
          },
          "total_pages": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "MessageDto": {
        "required": [
          "content",
          "role",
          "timestamp"
        ],
        "type": "object",
        "properties": {
          "role": {
            "type": "string"
          },
          "content": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "SessionDetailDto": {
        "required": [
          "agent_id",
          "created_at",
          "messages",
          "session_id",
          "session_state",
          "updated_at"
        ],
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string"
          },
          "session_name": {
            "type": "string"
          },
          "agent_id": {
            "type": "string"
          },
          "team_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "messages": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MessageDto"
            }
          },
          "session_state": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          },
          "summary": {
            "type": "string"
          },
          "topics": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "ModelMetricsPagedResponse": {
        "required": [
          "items",
          "page",
          "page_size",
          "total",
          "total_pages"
        ],
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ModelMetricsDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64"
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "page_size": {
            "type": "integer",
            "format": "int32"
          },
          "total_pages": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ModelMetricsStatsDto": {
        "required": [
          "avg_duration_ms",
          "success_rate",
          "total_calls",
          "total_cost",
          "total_input_tokens",
          "total_output_tokens",
          "total_tokens"
        ],
        "type": "object",
        "properties": {
          "total_calls": {
            "type": "integer",
            "format": "int32"
          },
          "total_input_tokens": {
            "type": "integer",
            "format": "int64"
          },
          "total_output_tokens": {
            "type": "integer",
            "format": "int64"
          },
          "total_tokens": {
            "type": "integer",
            "format": "int64"
          },
          "total_cost": {
            "type": "number",
            "format": "double"
          },
          "avg_duration_ms": {
            "type": "integer",
            "format": "int64"
          },
          "avg_time_to_first_token_ms": {
            "type": "integer",
            "format": "int64"
          },
          "success_rate": {
            "type": "number",
            "format": "double"
          }
        }
      },
      "ModelMetricsStatsByGroupResponse": {
        "required": [
          "stats"
        ],
        "type": "object",
        "properties": {
          "stats": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#/components/schemas/ModelMetricsStatsDto"
            }
          }
        }
      },
      "PageDtoMemoryDto": {
        "required": [
          "data",
          "pagination"
        ],
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/MemoryDto"
            }
          },
          "pagination": {
            "$ref": "#/components/schemas/PaginationDto"
          }
        }
      },
      "KnowledgePagedResponse": {
        "required": [
          "items",
          "page",
          "page_size",
          "total",
          "total_pages"
        ],
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KnowledgeDto"
            }
          },
          "total": {
            "type": "integer",
            "format": "int64"
          },
          "page": {
            "type": "integer",
            "format": "int32"
          },
          "page_size": {
            "type": "integer",
            "format": "int32"
          },
          "total_pages": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "HealthResponse": {
        "required": [
          "status",
          "version"
        ],
        "type": "object",
        "properties": {
          "status": {
            "type": "string"
          },
          "version": {
            "type": "string"
          }
        }
      },
      "AgentConfigInfo": {
        "required": [
          "description",
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "db_id": {
            "type": "string"
          }
        }
      },
      "ConfigResponse": {
        "required": [
          "agents",
          "auth_enabled",
          "databases",
          "evals",
          "knowledge",
          "knowledge_bases",
          "memory",
          "metrics",
          "name",
          "os_id",
          "session",
          "teams",
          "version",
          "workflows"
        ],
        "type": "object",
        "properties": {
          "os_id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "auth_enabled": {
            "type": "boolean"
          },
          "databases": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "session": {
            "$ref": "#/components/schemas/DomainDbsConfig"
          },
          "metrics": {
            "$ref": "#/components/schemas/DomainDbsConfig"
          },
          "memory": {
            "$ref": "#/components/schemas/DomainDbsConfig"
          },
          "knowledge": {
            "$ref": "#/components/schemas/DomainDbsConfig"
          },
          "evals": {
            "$ref": "#/components/schemas/DomainDbsConfig"
          },
          "agents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AgentConfigInfo"
            }
          },
          "teams": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TeamConfigInfo"
            }
          },
          "workflows": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WorkflowConfigInfo"
            }
          },
          "knowledge_bases": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/KnowledgeConfigInfo"
            }
          }
        }
      },
      "DbDomainConfig": {
        "required": [
          "db_id",
          "domain_config"
        ],
        "type": "object",
        "properties": {
          "db_id": {
            "type": "string"
          },
          "domain_config": {
            "$ref": "#/components/schemas/DomainDisplayConfig"
          }
        }
      },
      "DomainDbsConfig": {
        "required": [
          "dbs"
        ],
        "type": "object",
        "properties": {
          "dbs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DbDomainConfig"
            }
          }
        }
      },
      "DomainDisplayConfig": {
        "required": [
          "display_name"
        ],
        "type": "object",
        "properties": {
          "display_name": {
            "type": "string"
          }
        }
      },
      "KnowledgeConfigInfo": {
        "required": [
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          }
        }
      },
      "TeamConfigInfo": {
        "required": [
          "description",
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "db_id": {
            "type": "string"
          }
        }
      },
      "WorkflowConfigInfo": {
        "required": [
          "description",
          "id",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "db_id": {
            "type": "string"
          }
        }
      },
      "AgentDto": {
        "required": [
          "id",
          "metadata",
          "name",
          "tools"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "model": {
            "$ref": "#/components/schemas/ModelInfoDto"
          },
          "tools": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ToolInfoDto"
            }
          },
          "sessions": {
            "$ref": "#/components/schemas/SessionsConfigDto"
          },
          "memory": {
            "$ref": "#/components/schemas/MemoryConfigDto"
          },
          "metadata": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        }
      },
      "MemoryConfigDto": {
        "required": [
          "add_memories_to_context",
          "enable_agentic_memory",
          "enable_user_memories"
        ],
        "type": "object",
        "properties": {
          "enable_user_memories": {
            "type": "boolean"
          },
          "enable_agentic_memory": {
            "type": "boolean"
          },
          "add_memories_to_context": {
            "type": "boolean"
          }
        }
      },
      "SessionsConfigDto": {
        "required": [
          "enabled"
        ],
        "type": "object",
        "properties": {
          "enabled": {
            "type": "boolean"
          },
          "num_history_messages": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "ToolInfoDto": {
        "required": [
          "description",
          "name",
          "parameters"
        ],
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "parameters": {
            "type": "object",
            "additionalProperties": {
              "type": "object"
            }
          }
        }
      },
      "RunRecordDto": {
        "required": [
          "agent_id",
          "message",
          "run_id",
          "started_at",
          "status"
        ],
        "type": "object",
        "properties": {
          "run_id": {
            "type": "string"
          },
          "agent_id": {
            "type": "string"
          },
          "session_id": {
            "type": "string"
          },
          "user_id": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "started_at": {
            "type": "string",
            "format": "date-time"
          },
          "completed_at": {
            "type": "string",
            "format": "date-time"
          },
          "duration_ms": {
            "type": "integer",
            "format": "int64"
          },
          "content": {
            "type": "string"
          },
          "error": {
            "type": "string"
          }
        }
      },
      "ComponentSummary": {
        "required": [
          "count",
          "ids"
        ],
        "type": "object",
        "properties": {
          "count": {
            "type": "integer",
            "format": "int32"
          },
          "ids": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "InstanceInfoDto": {
        "required": [
          "agents",
          "id",
          "links",
          "name",
          "started_at",
          "status",
          "teams",
          "uptime",
          "version",
          "workflows"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "version": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "started_at": {
            "type": "string",
            "format": "date-time"
          },
          "uptime": {
            "type": "integer",
            "format": "int64"
          },
          "agents": {
            "$ref": "#/components/schemas/ComponentSummary"
          },
          "teams": {
            "$ref": "#/components/schemas/ComponentSummary"
          },
          "workflows": {
            "$ref": "#/components/schemas/ComponentSummary"
          },
          "links": {
            "$ref": "#/components/schemas/InstanceLinks"
          }
        }
      },
      "InstanceLinks": {
        "required": [
          "agents",
          "docs",
          "openapi",
          "teams",
          "workflows"
        ],
        "type": "object",
        "properties": {
          "docs": {
            "type": "string"
          },
          "openapi": {
            "type": "string"
          },
          "agents": {
            "type": "string"
          },
          "teams": {
            "type": "string"
          },
          "workflows": {
            "type": "string"
          }
        }
      },
      "DeleteSessionResponse": {
        "required": [
          "deleted",
          "session_id"
        ],
        "type": "object",
        "properties": {
          "session_id": {
            "type": "string"
          },
          "deleted": {
            "type": "boolean"
          }
        }
      },
      "DeleteMemoryResponse": {
        "required": [
          "deleted",
          "memory_id"
        ],
        "type": "object",
        "properties": {
          "memory_id": {
            "type": "string"
          },
          "deleted": {
            "type": "boolean"
          }
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "description": "Enter your VEKTOR_SECURITY_KEY as the bearer token",
        "scheme": "bearer",
        "bearerFormat": "API Key"
      }
    }
  }
}